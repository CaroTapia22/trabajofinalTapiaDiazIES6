<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formulario Vehículo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" crossorigin="anonymous">
</head>

<body class="container mt-5">
<div th:replace="layout :: header"></div> <!--TRAEMOS EL ARCHIVO LAYOUT CON EL FRAGMENTO HEADER-->

<h1 data-th-text="${band} ? 'Modificar Vehículo' : 'Nuevo Vehículo'"></h1>

<form data-th-object="${nuevoVehiculo}"
      data-th-action="${band} ? @{/modificarVehiculo} : @{/guardarVehiculo}"
      method="post" class="mt-4">


    <div class="mb-3">
        <label class="form-label">Patente</label>
        <input type="text"
               class="form-control"
               data-th-field="*{patente}"
               data-th-readonly="${band}"
               placeholder=" Ej: ABC123"
               required>
    </div>

    <div class="mb-3">
        <label class="form-label">Marca</label>
        <input type="text"
               class="form-control"
               data-th-field="*{marca}"
               required>
    </div>

    <div class="mb-3">
        <label class="form-label">Modelo</label>
        <input type="text"
               class="form-control"
               data-th-field="*{modelo}"
               required>
    </div>

    <div class="mb-3">
        <label class="form-label">Color</label>
        <input type="text"
               class="form-control"
               data-th-field="*{color}"
               required>
    </div>

    <div class="mb-3">
        <label class="form-label">Tipo</label>
        <select class="form-select" data-th-field="*{tipo}">
           <option data-th-each="t : ${tipos}"
                data-th-value="${t}"
                data-th-text="${t}">
            </option>
        </select>
    </div>

   <div class="mb-3">
    <label class="form-label">Conductor</label>
    <select class="form-select"
            data-th-field="*{conductor.dni}">
        <option value="">-- Seleccionar conductor --</option>

        <option data-th-each="con : ${conductores}"
                data-th-value="${con.dni}"
                data-th-text="${con.nombre + ' ' + con.apellido}">
        </option>
    </select>
</div>


    <button type="submit"
            class="btn btn-success"
            data-th-text="${band} ? 'Modificar' : 'Guardar'">
    </button>

    <a href="/listarVehiculos" class="btn btn-secondary ms-2">Volver</a>
</form>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
                integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
                crossorigin="anonymous"></script>
<div th:replace="layout :: footer"></div>

</body>
</html>
