<!DOCTYPE html>
<html lang="es" xmlns:data-th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Viajes</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>

<body class="container mt-5">
    <div th:replace="layout :: header"></div> <!--TRAEMOS EL ARCHIVO LAYOUT CON EL FRAGMENTO HEADER-->

    <h1 class="mb-4">Lista de Viajes</h1>

    <table class="table table-striped table-bordered">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Usuario</th>
            <th>Veh√≠culo</th>
            <th>Tipo Viaje</th>
            <th>Costo</th>
            <th>Fecha / Hora</th>
            <th>Acciones</th>
        </tr>
        </thead>

        <tbody data-th-each="v : ${listaViajes}">
        <tr>
            <td data-th-text="${v.id}"></td>

            <td>
                <span data-th-text="${v.usuario.nombre}"></span>
                <span data-th-text="${v.usuario.apellido}"></span>
                <br>
                <small class="text-muted">(DNI: <span data-th-text="${v.usuario.dni}"></span>)</small>
            </td>

            <td>
                <span data-th-text="${v.vehiculo.marca}"></span>
                <span data-th-text="${v.vehiculo.modelo}"></span>
                <br>
                Patente: <span data-th-text="${v.vehiculo.patente}"></span>
            </td>

            <td data-th-text="${v.tipoViaje}"></td>

            <td>$ <span data-th-text="${v.costoFinal}"></span></td>

            <td data-th-text="${v.fechaHora}"></td>

            <td>
                <a class="btn btn-danger btn-sm"
                   data-th-href="@{/borrarViaje(id=${v.id})}">
                    Borrar
                </a>
            </td>
        </tr>
        </tbody>
    </table>

    <a href="/iniciarViaje" class="btn btn-primary mt-3">Registrar otro viaje</a>
    <a href="/index" class="btn btn-secondary mt-3 ms-2">Volver al inicio</a>
  <div th:replace="layout :: footer"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
                integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
                crossorigin="anonymous"></script>
</body>
</html>