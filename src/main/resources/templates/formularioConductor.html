<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formulario Conductor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
          crossorigin="anonymous">
</head>

<body class="container mt-5">

    <h1 data-th-text="${band} ? 'Modificar Conductor' : 'Nuevo Conductor'"></h1>

    <form data-th-object="${nuevoConductor}"
          data-th-action="${band} ? @{/modificarConductor} : @{/guardarConductor}"
          method="post"
          class="mt-4">

        <div class="mb-3">
            <label class="form-label">DNI</label>
            <input type="number"
                   class="form-control"
                   data-th-field="*{dni}"
                   placeholder="Ingresar DNI sin puntos ni comas"
                   required
                   data-th-readonly="${band}" />
        </div>

        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input type="text"
                   class="form-control"
                   data-th-field="*{nombre}"
                   placeholder="Ingresar nombre" /> 
            <span class="text-danger"
                  data-th-if="${#fields.hasErrors('nombre')}"
                  data-th-errors="*{nombre}">
                Error en el nombre
            </span>
        </div>

        <div class="mb-3">
            <label class="form-label">Apellido</label>
            <input type="text"
                   class="form-control"
                   data-th-field="*{apellido}"
                   placeholder="Ingresar apellido" />
            <span class="text-danger"
                  data-th-if="${#fields.hasErrors('apellido')}"
                  data-th-errors="*{apellido}">
                Error en el apellido
            </span>
        </div>

        <div class="mb-3">
            <label class="form-label">Licencia</label>
            <input type="text"
                   class="form-control"
                   data-th-field="*{licencia}"
                   placeholder="Número de licencia" />

            <span class="text-danger"
                  data-th-if="${#fields.hasErrors('licencia')}"
                  data-th-errors="*{licencia}">
                Error en la licencia
            </span>
        </div>

        <div class="mb-3">
            <label class="form-label">Teléfono</label>
            <input type="text"
                   class="form-control"
                   data-th-field="*{telefono}"
                   placeholder="Solo números" />

            <span class="text-danger"
                  data-th-if="${#fields.hasErrors('telefono')}"
                  data-th-errors="*{telefono}">
                Solo se permite ingresar numeros
            </span>
        </div>

        <div class="mb-3">
            <label class="form-label">Fecha de registro</label>
            <input type="date"
                   class="form-control"
                   data-th-field="*{fechaRegistro}" />
        </div>

        <!-- BOTON PARA GUARDAR -->
        <button type="submit"
                class="btn btn-success"
                data-th-text="${band} ? 'Modificar' : 'Guardar'">
        </button>

        <a href="/listarConductores" class="btn btn-secondary ms-2">Volver</a>
    </form>

</body>
</html>
